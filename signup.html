<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Signup | Alpine Secondary School</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Orbitron:wght@600&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    display: flex;
    align-items: center;
    justify-content: center;
}

.signup-card {
    background: #ffffff;
    width: 100%;
    max-width: 520px;
    padding: 35px;
    border-radius: 16px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.35);
}

.signup-card h1 {
    text-align: center;
    font-family: 'Orbitron', sans-serif;
    color: #1f6ae1;
    margin-bottom: 10px;
}

.signup-card p {
    text-align: center;
    color: #555;
    margin-bottom: 25px;
}

.form-group {
    margin-bottom: 14px;
}

.form-group label {
    font-weight: 600;
    font-size: 0.9rem;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 0.95rem;
}

.signup-btn {
    width: 100%;
    margin-top: 18px;
    padding: 12px;
    font-size: 1rem;
    font-weight: 700;
    border: none;
    border-radius: 10px;
    background: linear-gradient(135deg, #1f6ae1, #00d4ff);
    color: #fff;
    cursor: pointer;
}

.signup-btn:hover {
    opacity: 0.9;
}

.login-link {
    text-align: center;
    margin-top: 15px;
}

.login-link a {
    color: #1f6ae1;
    text-decoration: none;
    font-weight: 600;
}
</style>
</head>

<body>

<div class="signup-card">
    <h1>Student Signup</h1>
    <p>Create your student account</p>

    <div class="form-group">
        <label>Full Name</label>
        <input type="text" id="name">
    </div>

    <div class="form-group">
        <label>Email</label>
        <input type="email" id="email">
    </div>

    <div class="form-group">
        <label>Password</label>
        <input type="password" id="password">
    </div>

    <div class="form-group">
        <label>Class</label>
        <input type="text" id="class">
    </div>

    <div class="form-group">
        <label>Roll No</label>
        <input type="text" id="roll">
    </div>

    <div class="form-group">
        <label>Phone</label>
        <input type="tel" id="phone">
    </div>

    <div class="form-group">
        <label>Address</label>
        <input type="text" id="address">
    </div>

    <div class="form-group">
        <label>Date of Birth</label>
        <input type="date" id="dob">
    </div>

    <div class="form-group">
        <label>Gender</label>
        <select id="gender">
            <option value="">Select</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
        </select>
    </div>

    <button class="signup-btn" onclick="signup()">Create Account</button>

    <div class="login-link">
        Already have an account? <a href="login.html">Login</a>
    </div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyCUtErl1fOeWcHbPfEwuZ3vch0LzW-fPg8",
  authDomain: "alpine-school-admin.firebaseapp.com",
  projectId: "alpine-school-admin",
  storageBucket: "alpine-school-admin.firebasestorage.app",
  messagingSenderId: "767913503884",
  appId: "1:767913503884:web:cd1aed2400e96a99b95fa9"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

function signup() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    auth.createUserWithEmailAndPassword(email, password)
    .then(res => {
        return db.collection("students").doc(res.user.uid).set({
            name: document.getElementById("name").value,
            class: document.getElementById("class").value,
            roll: document.getElementById("roll").value,
            phone: document.getElementById("phone").value,
            address: document.getElementById("address").value,
            dob: document.getElementById("dob").value,
            gender: document.getElementById("gender").value,
            email: email,
            createdAt: new Date()
        });
    })
    .then(() => {
        alert("Account created successfully!");
        window.location.href = "login.html";
    })
    .catch(err => alert(err.message));
}
</script>

</body>
</html>
